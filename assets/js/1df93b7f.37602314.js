"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3237],{8368:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var a=o(7378),n=o(6010),r=o(4704),s=o(9960),i=o(2263);const l="heroBanner_qdFl",u="buttons_AeoN",c="container_bfhl",d="map_sQa5";var p=o(7462);const m="features_xdhU",k="featureSvg__8YW",f=[{title:"Easy to Use",image:"/img/undraw_Map_dark_re_36sy.svg",description:a.createElement(a.Fragment,null,"\ucef4\ud3ec\ub10c\ud2b8\ub97c \uc774\uc6a9\ud558\uc5ec \uac04\ub2e8\ud558\uac8c \uad6c\ud604\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4!")},{title:"Focus on What Matters",image:"/img/undraw_Location_tracking_re_n3ok.svg",description:a.createElement(a.Fragment,null,"\uae30\ub2a5 \uad6c\ud604\uc5d0 \uc9d1\uc911 \ud560 \uc218 \uc788\ub3c4\ub85d KakaoMap\uacfc React Life Cycle\uc744 \uc5f0\uacb0\ud558\uc5ec \uc81c\uacf5 \ud569\ub2c8\ub2e4!")},{title:"Powered by React, TypeScript",image:"/img/undraw_My_current_location_re_whmt.svg",description:a.createElement(a.Fragment,null,"TypeScript\uc758 \ud0c0\uc785 \ucd94\ub860\uacfc \ud568\uaed8 React\ub85c \uc27d\uac8c \uac1c\ubc1c\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4!!")}];function g(e){let{title:t,image:o,description:r}=e;return a.createElement("div",{className:(0,n.Z)("col col--4")},a.createElement("div",{className:"text--center"},a.createElement("img",{className:k,alt:t,src:o})),a.createElement("div",{className:"text--center padding-horiz--md"},a.createElement("h3",null,t),a.createElement("p",null,r)))}function y(){return a.createElement("section",{className:m},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},f.map(((e,t)=>a.createElement(g,(0,p.Z)({key:t},e)))))))}var h=o(7995);function w(){const{siteConfig:e}=(0,i.Z)();return a.createElement("header",{className:(0,n.Z)("hero hero--primary",l)},a.createElement("div",{className:(0,n.Z)("container",c)},a.createElement("h1",{className:"hero__title"},e.title),a.createElement("p",{className:"hero__subtitle"},e.tagline),a.createElement(h.Map,{className:d,center:{lat:33.450701,lng:126.570667}},a.createElement(h.MapMarker,{position:{lat:33.450701,lng:126.570667}},a.createElement("div",{style:{margin:"5px",color:"black"}},"React \ud83d\udc99 Kakao Map!")),a.createElement(h.CustomOverlayMap,{position:{lat:33.4498466026352,lng:126.57066214371602}},a.createElement("div",{className:u},a.createElement(s.Z,{className:"button button--secondary button--lg",to:"/docs/intro"},"Tutorial - 5min \u23f1\ufe0f"))))))}function v(){const{siteConfig:e}=(0,i.Z)();return a.createElement(r.Z,{title:"Hello from "+e.title,description:"Description will go into a meta tag in <head />"},a.createElement(w,null),a.createElement("main",null,a.createElement(y,null)))}},7995:(e,t,o)=>{o.r(t),o.d(t,{AbstractOverlay:()=>S,Circle:()=>M,CustomOverlayMap:()=>v,CustomOverlayRoadview:()=>A,DrawingManager:()=>N,Ellipse:()=>x,Loader:()=>u,Map:()=>d,MapInfoWindow:()=>w,MapMarker:()=>h,MapTypeControl:()=>L,MapTypeId:()=>C,MarkerClusterer:()=>g,Polygon:()=>b,Polyline:()=>I,Rectangle:()=>O,Roadview:()=>z,RoadviewInfoWindow:()=>D,RoadviewMarker:()=>T,StaticMap:()=>H,Toolbox:()=>W,ZoomControl:()=>E,useInjectKakaoMapApi:()=>F,useMap:()=>p,useRoadview:()=>P});var a=o(7462),n=o(7378);const r="undefined"!=typeof window&&"undefined"!=typeof document?n.useLayoutEffect:n.useEffect,s=(e,t,o)=>{r((()=>{if(!e||!o)return;const a=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return void 0===a?o(e):o(e,...a)};return kakao.maps.event.addListener(e,t,a),()=>{kakao.maps.event.removeListener(e,t,a)}}),[e,t,o])};let i;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(i||(i={}));const l="__reactKakaoMapsSdkloaderId";class u{constructor(e){let{appkey:t,id:o=l,libraries:a=[],nonce:n,retries:r=3,url:s="//dapi.kakao.com/v2/maps/sdk.js"}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.id=o,this.appkey=t,this.libraries=a,this.nonce=n,this.retries=r,this.url=s,u.instance){if(!u.equalOptions(this.options,u.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(u.instance.options));return u.instance}u.instance=this}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static isLoaded(){return new Promise((e=>u.instance?u.instance.status===i.FAILURE||u.instance.status===i.INITIALIZED?e(!1):(u.instance.status===i.LOADING&&u.loadcheckcallbacks.push((t=>e(!t))),e(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load((()=>{e(!0)})):u.loadcheckcallbacks.push((t=>{e(!t)}))))}load(){return new Promise(((e,t)=>{this.loadCallback((o=>{o?t(o.error):e(window.kakao)}))}))}get status(){return this.onerrorEvent?i.FAILURE:this.done?i.SUCCESS:this.loading?i.LOADING:i.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps\uc774 \uc774\ubbf8 \uc678\ubd80 \uc694\uc18c\uc5d0 \uc758\ud574 \ub85c\ub529\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\uc124\uc815\ud55c \uc635\uc158\uacfc \uc77c\uce58 \ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc73c\uba70, \uc774\uc5d0 \ub530\ub978 \uc608\uc0c1\uce58 \ub3d9\uc791\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e,t,o,a,n){if(this.errors.push({event:e,source:t,lineno:o,colno:a,error:n}),this.errors.length<=this.retries){const e=this.errors.length*2**this.errors.length;console.log("Failed to load Kakao Maps script, retrying in "+e+" ms."),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}createUrl(){let e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+="&autoload=false",e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load((()=>{this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[],u.loadcheckcallbacks.forEach((e=>{e(this.onerrorEvent)})),u.loadcheckcallbacks=[]}))}static equalOptions(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(let o=0;o<e.libraries.length;++o)if(e.libraries[o]!==t.libraries[o])return!1;return e.nonce===t.nonce&&(e.retries===t.retries&&e.url===t.url)}}u.loadcheckcallbacks=[];const c=n.createContext(void 0),d=n.forwardRef(((e,t)=>{let{id:o,as:i,children:l,center:d,isPanto:p=!1,padding:m=32,disableDoubleClick:k,disableDoubleClickZoom:f,draggable:g,zoomable:y,keyboardShortcuts:h,level:w,maxLevel:v,minLevel:L,mapTypeId:E,projectionId:C,scrollwheel:M,tileAnimation:I,onBoundsChanged:b,onCenterChanged:O,onClick:x,onDoubleClick:S,onDrag:R,onDragEnd:z,onDragStart:P,onIdle:A,onMaptypeidChanged:T,onMouseMove:D,onRightClick:_,onTileLoaded:Z,onZoomChanged:N,onZoomStart:W,onCreate:H,...F}=e;const U=i||"div",[j,G]=(0,n.useState)(!1),[K,B]=(0,n.useState)(),V=(0,n.useRef)(null);return r((()=>{u.isLoaded().then(G)}),[]),r((()=>{if(!j)return;const e=V.current;if(!e)return;const t="lat"in d?new kakao.maps.LatLng(d.lat,d.lng):new kakao.maps.Coords(d.x,d.y),o=new kakao.maps.Map(e,{center:t,disableDoubleClick:k,disableDoubleClickZoom:f,draggable:g,keyboardShortcuts:h,level:w,mapTypeId:E,projectionId:C,scrollwheel:M,tileAnimation:I});return B(o),()=>{e.innerHTML=""}}),[j,k,f,E,I]),(0,n.useImperativeHandle)(t,(()=>K),[K]),r((()=>{K&&H&&H(K)}),[K,H]),r((()=>{if(!K)return;let e=K.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());const t="lat"in d?new kakao.maps.LatLng(d.lat,d.lng):new kakao.maps.Coords(d.x,d.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(p?K.panTo(t,m):K.setCenter(t))}),[K,d.lat,d.lng,d.x,d.y]),r((()=>{K&&void 0!==g&&K.setDraggable(g)}),[K,g]),r((()=>{K&&void 0!==y&&K.setZoomable(y)}),[K,y]),r((()=>{K&&h&&"boolean"==typeof h&&K.setKeyboardShortcuts(h)}),[K,h]),r((()=>{K&&w&&K.setLevel(w)}),[K,w]),r((()=>{K&&E&&K.setMapTypeId(E)}),[K,E]),r((()=>{K&&C&&K.setProjectionId(C)}),[K,C]),r((()=>{K&&v&&K.setMaxLevel(v)}),[K,v]),r((()=>{K&&L&&K.setMinLevel(L)}),[K,L]),s(K,"bounds_changed",b),s(K,"center_changed",O),s(K,"click",x),s(K,"dblclick",S),s(K,"drag",R),s(K,"dragstart",P),s(K,"dragend",z),s(K,"idle",A),s(K,"maptypeid_changed",T),s(K,"mousemove",D),s(K,"rightclick",_),s(K,"tilesloaded",Z),s(K,"zoom_changed",N),s(K,"zoom_start",W),n.createElement(n.Fragment,null,n.createElement(U,(0,a.Z)({id:o||"react-kakao-maps-sdk-map-container"},F,{ref:V})),K&&n.createElement(c.Provider,{value:K},l))})),p=e=>{const t=(0,n.useContext)(c);if(!t)throw new Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return t};var m=o(1542);const k=n.forwardRef(((e,t)=>{let{map:o,position:a,marker:r,children:s,altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:d,onCreate:p}=e;const k=(0,n.useRef)(document.createElement("div")),f=(0,n.useMemo)((()=>{const e=new kakao.maps.InfoWindow({altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:d,content:k.current,position:a});return k.current.style.display="none",e}),[l,c]);return(0,n.useImperativeHandle)(t,(()=>f),[f]),(0,n.useLayoutEffect)((()=>(f.open(o,r),()=>{f.close()})),[o,r]),(0,n.useLayoutEffect)((()=>{p&&p(f)}),[f,p]),(0,n.useLayoutEffect)((()=>{f&&f.setPosition(a)}),[f,a]),(0,n.useLayoutEffect)((()=>{f&&i&&f.setAltitude(i)}),[f,i]),(0,n.useLayoutEffect)((()=>{f&&u&&f.setRange(u)}),[f,u]),(0,n.useLayoutEffect)((()=>{f&&d&&f.setZIndex(d)}),[f,d]),k.current.parentElement&&m.createPortal(s,k.current.parentElement)})),f=n.createContext(void 0),g=n.forwardRef(((e,t)=>{let{children:o,averageCenter:a,calculator:r,clickable:i,disableClickZoom:l,gridSize:u,hoverable:c,minClusterSize:d,minLevel:m,styles:k,texts:g,onClusterclick:y,onClusterdblclick:h,onClustered:w,onClusterout:v,onClusterover:L,onClusterrightclick:E,onCreate:C}=e;const M=p("MarkerClusterer"),I=(0,n.useMemo)((()=>{if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:a,calculator:r,clickable:i,disableClickZoom:l,gridSize:u,hoverable:c,minClusterSize:d,minLevel:m,styles:k,texts:g});console.warn("clusterer \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubcc4\ub3c4 \ub85c\ub4dc \ud574\uc57c \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,n.useImperativeHandle)(t,(()=>I),[I]),(0,n.useLayoutEffect)((()=>{null==I||I.setMap(M)}),[M,I]),(0,n.useLayoutEffect)((()=>{I&&C&&C(I)}),[I,C]),(0,n.useLayoutEffect)((()=>{I&&u&&(I.setGridSize(u),I.redraw())}),[I,u]),(0,n.useLayoutEffect)((()=>{I&&d&&(I.setMinClusterSize(d),I.redraw())}),[I,d]),(0,n.useLayoutEffect)((()=>{I&&void 0!==a&&(I.setAverageCenter(a),I.redraw())}),[I,a]),(0,n.useLayoutEffect)((()=>{I&&m&&(I.setMinLevel(m),I.redraw())}),[I,m]),(0,n.useLayoutEffect)((()=>{I&&g&&(I.setTexts(g),I.redraw())}),[I,g]),(0,n.useLayoutEffect)((()=>{I&&r&&(I.setCalculator(r),I.redraw())}),[I,r]),(0,n.useLayoutEffect)((()=>{I&&k&&(I.setStyles(k),I.redraw())}),[I,k]),s(I,"clusterclick",y),s(I,"clusterover",L),s(I,"clusterout",v),s(I,"clusterdblclick",h),s(I,"clusterrightclick",E),s(I,"clustered",w),I?n.createElement(f.Provider,{value:I},o):null})),y=n.forwardRef(((e,t)=>{let{map:o,position:a,children:r,altitude:i,clickable:l,draggable:u,image:c,infoWindowOptions:d,onCreate:p,onClick:m,onDragEnd:g,onDragStart:y,onMouseOut:h,onMouseOver:w,opacity:v,range:L,title:E,zIndex:C}=e;const M=(0,n.useContext)(f),I=(0,n.useMemo)((()=>new kakao.maps.Marker({altitude:i,clickable:l,draggable:u,image:c,opacity:v,range:L,title:E,zIndex:C,position:a})),[]);return(0,n.useImperativeHandle)(t,(()=>I),[I]),(0,n.useLayoutEffect)((()=>(M?M.addMarker(I):I.setMap(o),()=>{M?M.removeMarker(I):I.setMap(null)})),[o,M,I]),(0,n.useLayoutEffect)((()=>{p&&p(I)}),[I,p]),s(I,"click",m),s(I,"dragstart",y),s(I,"dragend",g),s(I,"mouseout",h),s(I,"mouseover",w),(0,n.useLayoutEffect)((()=>{o&&I&&a&&I.setPosition(a)}),[o,I,a]),(0,n.useLayoutEffect)((()=>{o&&I&&c&&I.setImage(c)}),[o,I,c]),(0,n.useLayoutEffect)((()=>{o&&I&&i&&I.setAltitude(i)}),[o,I,i]),(0,n.useLayoutEffect)((()=>{o&&I&&void 0!==l&&I.setClickable(l)}),[o,I,l]),(0,n.useLayoutEffect)((()=>{o&&I&&void 0!==u&&I.setDraggable(u)}),[o,I,u]),(0,n.useLayoutEffect)((()=>{o&&I&&v&&I.setOpacity(v)}),[o,I,v]),(0,n.useLayoutEffect)((()=>{o&&I&&L&&I.setRange(L)}),[o,I,L]),(0,n.useLayoutEffect)((()=>{o&&I&&E&&I.setTitle(E)}),[o,I,E]),(0,n.useLayoutEffect)((()=>{o&&I&&C&&I.setZIndex(C)}),[o,I,C]),r?n.createElement(k,{position:a,map:o,marker:I,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},r):null})),h=n.forwardRef(((e,t)=>{let{image:o,position:a,children:r,clickable:s,draggable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:m,onMouseOver:k,onCreate:f,opacity:g,title:h,zIndex:w}=e;const v=p("MapMarker"),L=(0,n.useMemo)((()=>{var e,t,a,n,r,s,i,l,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(a=o.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=o.options)?void 0:n.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(s=o.options)?void 0:s.shape,spriteOrigin:(null==(i=o.options)?void 0:i.spriteOrigin)&&new kakao.maps.Point(null==(l=o.options)?void 0:l.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})}),[o]),E=(0,n.useMemo)((()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Coords(a.x,a.y).toLatLng()),[a.lat,a.lng,a.x,a.y]);return n.createElement(y,{map:v,position:E,image:L,clickable:s,draggable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:m,onMouseOver:k,onCreate:f,opacity:g,title:h,zIndex:w,ref:t},r)})),w=n.forwardRef(((e,t)=>{let{position:o,children:a,disableAutoPan:r,removable:s,zIndex:i,onCreate:l}=e;const u=p("MapInfoWindow"),c=(0,n.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]);return n.createElement(k,{disableAutoPan:r,removable:s,zIndex:i,map:u,position:c,onCreate:l,ref:t},a)})),v=n.forwardRef(((e,t)=>{let{position:o,children:a,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,onCreate:u}=e;const c=(0,n.useContext)(f),d=p("CustomOverlayMap"),k=(0,n.useRef)(document.createElement("div")),g=(0,n.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),y=(0,n.useMemo)((()=>{const e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:g,content:k.current});return k.current.style.display="none",e}),[r,s,i]);return(0,n.useImperativeHandle)(t,(()=>y),[y]),(0,n.useLayoutEffect)((()=>{if(d)return c?c.addMarker(y):y.setMap(d),()=>{c?c.removeMarker(y):y.setMap(null)}}),[d,c,y]),(0,n.useLayoutEffect)((()=>{u&&u(y)}),[y,u]),(0,n.useLayoutEffect)((()=>{y.setPosition(g)}),[y,g]),(0,n.useLayoutEffect)((()=>{l&&y.setZIndex(l)}),[y,l]),k.current.parentElement&&m.createPortal(a,k.current.parentElement)})),L=n.forwardRef(((e,t)=>{let{position:o=kakao.maps.ControlPosition.TOPRIGHT}=e;const a=p("MapTypeControl"),r=(0,n.useMemo)((()=>new kakao.maps.MapTypeControl),[]);return(0,n.useImperativeHandle)(t,(()=>r),[r]),(0,n.useLayoutEffect)((()=>(a.addControl(r,o),()=>{a.removeControl(r)})),[a,r,o]),null})),E=n.forwardRef(((e,t)=>{let{position:o=kakao.maps.ControlPosition.RIGHT}=e;const a=p("ZoomControl"),r=(0,n.useMemo)((()=>new kakao.maps.ZoomControl),[]);return(0,n.useImperativeHandle)(t,(()=>r),[r]),(0,n.useEffect)((()=>(a.addControl(r,o),()=>{a.removeControl(r)})),[a,o]),null})),C=e=>{let{type:t}=e;const o=p("MapTypeId");return(0,n.useEffect)((()=>(o.addOverlayMapTypeId(t),()=>{o.removeOverlayMapTypeId(t)})),[o,t]),null},M=n.forwardRef(((e,t)=>{let{center:o,radius:a,fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:d,zIndex:m,onMouseover:k,onMouseout:f,onMousemove:g,onMousedown:y,onClick:h,onCreate:w}=e;const v=p("Circle"),L=(0,n.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),E=(0,n.useMemo)((()=>new kakao.maps.Circle({center:L,radius:a,fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:d,zIndex:m})),[]);return(0,n.useImperativeHandle)(t,(()=>E),[E]),(0,n.useLayoutEffect)((()=>(E.setMap(v),()=>{E.setMap(null)})),[v,E]),(0,n.useLayoutEffect)((()=>{w&&w(E)}),[E,w]),(0,n.useLayoutEffect)((()=>{E&&E.setPosition(L)}),[E,L]),(0,n.useLayoutEffect)((()=>{E.setRadius(a)}),[E,a]),(0,n.useLayoutEffect)((()=>{m&&E.setZIndex(m)}),[E,m]),(0,n.useLayoutEffect)((()=>{E.setOptions({fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:d})}),[E,r,i,l,u,c,d]),s(E,"mouseover",k),s(E,"mouseout",f),s(E,"mousemove",g),s(E,"mousedown",y),s(E,"click",h),null})),I=n.forwardRef(((e,t)=>{let{path:o,endArrow:a,onClick:r,onMousedown:i,onMousemove:l,onMouseout:u,onMouseover:c,onCreate:d,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g,zIndex:y}=e;const h=p("Polyline"),w=(0,n.useMemo)((()=>o.every((e=>e instanceof Array))?o.map((e=>e.map((e=>new kakao.maps.LatLng(e.lat,e.lng))))):o.map((e=>new kakao.maps.LatLng(e.lat,e.lng)))),[o]),v=(0,n.useMemo)((()=>new kakao.maps.Polyline({path:w,endArrow:a,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g,zIndex:y})),[]);return(0,n.useImperativeHandle)(t,(()=>v),[v]),(0,n.useLayoutEffect)((()=>(v.setMap(h),()=>v.setMap(null))),[h,v]),(0,n.useLayoutEffect)((()=>{d&&d(v)}),[v,d]),(0,n.useLayoutEffect)((()=>{v.setOptions({endArrow:a,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g})}),[v,a,m,k,f,g]),(0,n.useLayoutEffect)((()=>{v.setPath(w)}),[v,w]),(0,n.useLayoutEffect)((()=>{y&&v.setZIndex(y)}),[v,y]),s(v,"mouseover",c),s(v,"mouseout",u),s(v,"mousemove",l),s(v,"mousedown",i),s(v,"click",r),null})),b=n.forwardRef(((e,t)=>{let{path:o,onClick:a,onMousedown:r,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f,fillColor:g,fillOpacity:y,zIndex:h}=e;const w=p("Polygon"),v=(0,n.useMemo)((()=>o.every((e=>e instanceof Array))?o.map((e=>e.map((e=>new kakao.maps.LatLng(e.lat,e.lng))))):o.map((e=>new kakao.maps.LatLng(e.lat,e.lng)))),[o]),L=(0,n.useMemo)((()=>new kakao.maps.Polygon({path:v,fillColor:g,fillOpacity:y,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f,zIndex:h})),[]);return(0,n.useImperativeHandle)(t,(()=>L),[L]),(0,n.useLayoutEffect)((()=>(L.setMap(w),()=>L.setMap(null))),[w,L]),(0,n.useLayoutEffect)((()=>{c&&c(L)}),[L,c]),(0,n.useLayoutEffect)((()=>{L.setOptions({fillColor:g,fillOpacity:y,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f})}),[L,g,y,d,m,k,f]),(0,n.useLayoutEffect)((()=>{L.setPath(v)}),[L,v]),(0,n.useLayoutEffect)((()=>{h&&L.setZIndex(h)}),[L,h]),s(L,"mouseover",u),s(L,"mouseout",l),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null})),O=n.forwardRef(((e,t)=>{let{bounds:o,onClick:a,onMousedown:r,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f,fillColor:g,fillOpacity:y,zIndex:h}=e;const w=p("Rectangle"),v=(0,n.useMemo)((()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))),[o]),L=(0,n.useMemo)((()=>new kakao.maps.Rectangle({bounds:v,fillColor:g,fillOpacity:y,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f,zIndex:h})),[]);return(0,n.useImperativeHandle)(t,(()=>L),[L]),(0,n.useLayoutEffect)((()=>(L.setMap(w),()=>L.setMap(null))),[w,L]),(0,n.useLayoutEffect)((()=>{c&&c(L)}),[L,c]),(0,n.useLayoutEffect)((()=>{L.setOptions({fillColor:g,fillOpacity:y,strokeColor:d,strokeOpacity:m,strokeStyle:k,strokeWeight:f})}),[L,g,y,d,m,k,f]),(0,n.useLayoutEffect)((()=>{L.setBounds(v)}),[L,v]),(0,n.useLayoutEffect)((()=>{h&&L.setZIndex(h)}),[L,h]),s(L,"mouseover",u),s(L,"mouseout",l),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null})),x=n.forwardRef(((e,t)=>{let{center:o,rx:a,ry:r,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:d,strokeWeight:m,zIndex:k,onMouseover:f,onMouseout:g,onMousemove:y,onMousedown:h,onClick:w,onCreate:v}=e;const L=p("Ellipse"),E=(0,n.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),C=(0,n.useMemo)((()=>new kakao.maps.Ellipse({center:E,rx:a,ry:r,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:d,strokeWeight:m,zIndex:k})),[]);return(0,n.useImperativeHandle)(t,(()=>C),[C]),(0,n.useLayoutEffect)((()=>(C.setMap(L),()=>{C.setMap(null)})),[L,C]),(0,n.useLayoutEffect)((()=>{v&&v(C)}),[C,v]),(0,n.useLayoutEffect)((()=>{C&&C.setPosition(E)}),[C,E]),(0,n.useLayoutEffect)((()=>{C.setRadius(a,r)}),[C,a,r]),(0,n.useLayoutEffect)((()=>{k&&C.setZIndex(k)}),[C,k]),(0,n.useLayoutEffect)((()=>{C.setOptions({fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:d,strokeWeight:m})}),[C,i,l,u,c,d,m]),s(C,"mouseover",f),s(C,"mouseout",g),s(C,"mousemove",y),s(C,"mousedown",h),s(C,"click",w),null})),S=n.forwardRef(((e,t)=>{let{draw:o,onAdd:a,onRemove:r,onCreate:s}=e;const i=p(),l=(0,n.useMemo)((()=>{class e extends kakao.maps.AbstractOverlay{constructor(e,t,o){super(),this.draw=e,this.onAdd=t,this.onRemove=o}}return new e(o,a,r)}),[o,a,r]);return(0,n.useImperativeHandle)(t,(()=>l),[l]),(0,n.useLayoutEffect)((()=>(l.setMap(i),()=>{l.setMap(null)})),[i,l]),(0,n.useLayoutEffect)((()=>{s&&s(l)}),[l,s]),null})),R=n.createContext(void 0),z=n.forwardRef(((e,t)=>{let{id:o,as:i,children:l,position:c,pan:d,panoId:p,panoX:m,panoY:k,tilt:f,zoom:g,onCreate:y,onInit:h,onPanoidChange:w,onPositionChanged:v,onViewpointChange:L,onErrorGetNearestPanoId:E,...C}=e;const M=i||"div",[I,b]=(0,n.useState)(!1),[O,x]=(0,n.useState)(!0),[S,z]=(0,n.useState)(),P=(0,n.useRef)(null);return r((()=>{u.isLoaded().then(b)}),[]),r((()=>{if(!I)return;const e=P.current;if(!e)return;const t=new kakao.maps.Roadview(e,{pan:d,panoId:p,panoX:m,panoY:k,tilt:f,zoom:g});return z(t),()=>{e.innerHTML=""}}),[I,m,k,g]),(0,n.useImperativeHandle)(t,(()=>S),[S]),r((()=>{S&&y&&y(S)}),[S,y]),r((()=>{if(!S||p||S.getPosition().getLat()===c.lat&&S.getPosition().getLng()===c.lng)return;const e=new kakao.maps.LatLng(c.lat,c.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,c.radius,(t=>{null===t&&E?E(S):S.setPanoId(t,e)}))}),[S,p,c.lat,c.lng,c.radius,E]),r((()=>{if(!S||!p||p===S.getPanoId()||S.getPosition().getLat()===c.lat&&S.getPosition().getLng()===c.lng)return;const e=new kakao.maps.LatLng(c.lat,c.lng);S.setPanoId(p,e)}),[S,p,c.lat,c.lng]),r((()=>{if(!S)return;const e=S.getViewpoint();e.pan===d&&e.tilt===f||(d&&(e.pan=d),f&&(e.tilt=f),S.setViewpoint(e))}),[S,d,f]),s(S,"init",(e=>{x(!1),h&&h(e)})),s(S,"panoid_changed",w),s(S,"viewpoint_changed",L),s(S,"position_changed",v),n.createElement(n.Fragment,null,n.createElement(M,(0,a.Z)({ref:P,id:o||"react-kakao-maps-sdk-roadview-container"},C)),S&&!O&&n.createElement(R.Provider,{value:S},l))})),P=e=>{const t=(0,n.useContext)(R);if(!t)throw new Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return t},A=n.forwardRef(((e,t)=>{let{position:o,children:a,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,altitude:u,range:c,onCreate:d}=e;const p=P("CustomOverlayRoadview"),k=(0,n.useRef)(document.createElement("div")),f=(0,n.useMemo)((()=>"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)),[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),g=(0,n.useMemo)((()=>{const e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:f,content:k.current});return k.current.style.display="none",e}),[r,s,i]);return(0,n.useImperativeHandle)(t,(()=>g),[g]),(0,n.useLayoutEffect)((()=>{if(p)return g.setMap(p),()=>{g.setMap(null)}}),[g,p]),(0,n.useLayoutEffect)((()=>{d&&d(g)}),[g,d]),(0,n.useLayoutEffect)((()=>{g.setPosition(f)}),[g,f]),(0,n.useLayoutEffect)((()=>{l&&g.setZIndex(l)}),[g,l]),(0,n.useLayoutEffect)((()=>{u&&g.setAltitude(u)}),[g,u]),(0,n.useLayoutEffect)((()=>{c&&g.setRange(c)}),[g,c]),k.current.parentElement&&m.createPortal(a,k.current.parentElement)})),T=n.forwardRef(((e,t)=>{let{image:o,position:a,children:r,altitude:s,clickable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:p,onMouseOver:m,onCreate:k,opacity:f,range:g,title:h,zIndex:w}=e;const v=P("RoadviewMarker"),L=(0,n.useMemo)((()=>{var e,t,a,n,r,s,i,l,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(a=o.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=o.options)?void 0:n.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(s=o.options)?void 0:s.shape,spriteOrigin:(null==(i=o.options)?void 0:i.spriteOrigin)&&new kakao.maps.Point(null==(l=o.options)?void 0:l.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})}),[o]),E=(0,n.useMemo)((()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):"x"in a?new kakao.maps.Coords(a.x,a.y).toLatLng():new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId)),[a.lat,a.lng,a.x,a.y,a.pan,a.tilt,a.zoom,null==a?void 0:a.panoId]);return n.createElement(y,{map:v,position:E,image:L,altitude:s,clickable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:p,onMouseOver:m,onCreate:k,opacity:f,range:g,title:h,zIndex:w,ref:t},r)})),D=n.forwardRef(((e,t)=>{let{position:o,children:a,altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,onCreate:c}=e;const d=P("RoadviewInfoWindow"),p=(0,n.useMemo)((()=>"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)),[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return n.createElement(k,{altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,map:d,position:p,onCreate:c,ref:t},a)})),_=n.createContext(void 0);function Z(e,t,o){(0,n.useLayoutEffect)((()=>{if(!e||!o)return;e.addListener(t,(function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return void 0===a?o(e):o(e,...a)}))}),[o,e,t])}const N=n.forwardRef((function(e,t){let{arrowOptions:o,circleOptions:a,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u,drawingMode:c,guideTooltip:d,onSelect:m,onDrawstart:k,onDraw:f,onDrawend:g,onDrawnext:y,onCancle:h,onRemove:w,onStateChanged:v,onCreate:L,children:E}=e;const C=p("Toolbox"),M=(0,n.useMemo)((()=>{if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:C,drawingMode:c,guideTooltip:d,arrowOptions:o,circleOptions:a,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u});console.warn("drawing \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubcc4\ub3c4 \ub85c\ub4dc \ud574\uc57c \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,n.useImperativeHandle)(t,(()=>M),[M]),(0,n.useLayoutEffect)((()=>{M&&L&&L(M)}),[M,L]),Z(M,"select",m),Z(M,"drawstart",k),Z(M,"draw",f),Z(M,"drawend",g),Z(M,"drawnext",y),Z(M,"cancel",h),Z(M,"remove",w),Z(M,"state_changed",v),M?n.createElement(_.Provider,{value:M},E):null})),W=n.forwardRef((function(e,t){let{position:o}=e;o=o||kakao.maps.ControlPosition.TOP;const a=p("Toolbox"),r=(0,n.useContext)(_);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");const s=(0,n.useMemo)((()=>new kakao.maps.drawing.Toolbox({drawingManager:r})),[r]);return(0,n.useImperativeHandle)(t,(()=>s),[s]),(0,n.useLayoutEffect)((()=>{const e=s.getElement();return a.addControl(e,o),()=>{a.removeControl(e)}}),[a,s,o]),null})),H=n.forwardRef(((e,t)=>{let{id:o="react-kakao-maps-sdk-staticmap-container",style:a,className:s,center:i,marker:l,level:u,mapTypeId:c,onCreate:d}=e;const[p,m]=(0,n.useState)(),k=(0,n.useRef)(null);return r((()=>{if(!window.kakao)return void console.warn("kakao map javascript api\ub97c \uba3c\uc800 \ubd88\ub7ec\uc640\uc57c \ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide`");const e=k.current;e&&kakao.maps.load((()=>{const t=Array.isArray(l)?l.map((e=>({...e,position:new kakao.maps.LatLng(e.position.lat,e.position.lng)}))):"object"==typeof l&&l.position?{...l,position:new kakao.maps.LatLng(l.position.lat,l.position.lng)}:l,o=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(i.lat,i.lng),level:u,mapTypeId:c,marker:t});m(o)}))}),[JSON.stringify(l)]),(0,n.useImperativeHandle)(t,(()=>p),[p]),r((()=>{p&&p.setCenter(new kakao.maps.LatLng(i.lat,i.lng))}),[p,i.lat,i.lng]),r((()=>{p&&u&&p.setLevel(u)}),[p,u]),r((()=>{p&&c&&p.setMapTypeId(c)}),[p,c]),r((()=>{p&&d&&d(p)}),[p,d]),n.createElement("div",{id:o,style:a,className:s,ref:k})})),F=e=>{const[t,o]=(0,n.useState)({loading:!0,error:void 0}),a=(0,n.useMemo)((()=>new u(e)),[JSON.stringify(e)]);return(0,n.useEffect)((()=>{a.load().then((()=>o({loading:!1,error:void 0}))).catch((e=>o({loading:!1,error:e})))}),[a]),t}}}]);